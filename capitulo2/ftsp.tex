 
\section{FTSP}

\outline{
    Descrição de alto nível sobre o FTSP.
}

O Flooding Time Synchronization Protocol (FTSP) \cite{maroti2004} é um protocolo desenvolvido para ser uma solução de sincronização de RSSF que atenda as necessidades de escalabilidade, robustez a mudanças na topologia da rede relacionadas a falhas de nós, enlace e mobilidade. O FTSP combinou os progressos observados no RBS e TPSN, trazendo um protocolo mais dinâmico, \textit{timestamp} no nível MAC aprimorado e correção de relógio.

Primeiro, no processo de inicialização da rede o nó com o menor ID é eleito como \textit{root}, o FTSP cria uma estrutura \textit{ad hoc} com o nó \textit{root} propagando periodicamente informação de tempo. Começando do nó \textit{root}, a mensagem de sincronização é transmitida para todos os seus vizinhos contendo o tempo do seu relógio local. Elimina parte das incertezas na transmissão fim-a-fim usando \textit{timestamp} na camada MAC. Do lado do receptor, são armazenados os tempos de chegada usando seu relógio local. Após armazenar uma quantidade predefinida de mensagens de sincronização, os nós usam regressão linear para calcular o seu \textit{offset} e o escorregamento do seu relógio com base nas mensagens do nó de referência. Desta forma o nó pode mudar o declive do crescimento do seu relógio e mantê-lo atualizado. 


Os nós recebem sincronização direto do nó \textit{root}, porém nem todos estão no seu raio de alcance. Assim, a sincronização multi-saltos é realizada por outros nós que já tenham sido sincronizados, estes encaminham mensagens até todos estarem sincronizados. Em redes densas e com saltos, temos o problema de que determinado nó receba mensagens de sincronização repetidas, neste caso o FTSP incorpora na mensagem além do \textit{timestamp}, um número de sequência e o ID do \textit{root}, assim uma mensagem pode ser filtrada sabendo que é mais antiga ela é descartada.












As suas vantagens são:
\begin{itemize}
 \item O algoritmo estado da arte em sincronização de relógios em redes sensores sem fio.
 \item Resiliente as mudanças da topologia da rede.
 \item Convergência rápida do tempo global.
 \item Regressão linear para tratar o escorregamento do relógio.
 \item Algoritmo simples de eleição de líder.
\end{itemize}

As suas desvantagens são:
\begin{itemize}
 \item Exibe crescimento de erros baseado no tamanho de saltos da rede.
 \item Dependente de \textit{hardware} específico para funcionamento do seu \textit{timestamp}.
\end{itemize}
